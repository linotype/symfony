<script src="https://cdnjs.cloudflare.com/ajax/libs/firebug-lite/1.4.0/firebug-lite.js" >
{
    startOpened: false,
    
    disableWhenFirebugActive: false,
    
    onLoad: function()
    {
        var getXHRObject = function()
        {
            var xhrObj = false;
            try
            {
                xhrObj = new XMLHttpRequest();
            }
            catch(e)
            {
                var progid = [
                        "MSXML2.XMLHTTP.5.0", "MSXML2.XMLHTTP.4.0", 
                        "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"
                    ];
                
                for ( var i=0; i < progid.length; ++i ) {
                    try
                    {
                        xhrObj = new ActiveXObject(progid[i]);
                    }
                    catch(e)
                    {
                        continue;
                    }
                    break;
                }
            }
            finally
            {
                console.count("Counting the XHR calls with console.count(): ");
                return xhrObj;
            }
        };

        var extensionCode = document.getElementById("extension-code");
        var extensionLoaded = false;
        document.getElementById("run-extension").onclick = function()
        {
            if (!extensionLoaded)
            {
                extensionLoaded = true;
                eval(extensionCode.innerHTML);
            }
        };
        
        var console = window.firebug || window.console;
        
        console.info("Hello World, I'm " + Firebug.version + "!");
        
        var els = $("div").toArray();
        els = els.slice(0, 11);
        console.log("Move your mouse over or click the following elements: ", els);
        
        var xhr = getXHRObject();
        console.info("Don't forget to check the XHR requests, now supporting HTTP parameters:");
        
        xhr.open("POST", "/releases/lite/latest/changelog.txt", true);
        xhr.send("param1=post&param2=data");
        
        var xhr2 = getXHRObject();
        xhr2.open("GET", "error.txt?param1=hello&param2=world", true);
        xhr2.send();
        
        console.log("Calling console.dir(Firebug)");
        console.dir(Firebug);
        
        var random = function(i){return Math.floor(Math.random()*i)};
        var randomPanel = ["Console", "HTML", "DOM"][random(3)];
        
        Firebug.chrome.selectPanel(randomPanel);
        
        if (randomPanel == "HTML")
        {
            var randomElement = ["h1", "h2", "p"][random(3)];
            var element = document.getElementsByTagName(randomElement)[0];
            
            setTimeout(function(){
                Firebug.HTML.select(element);
                Firebug.Inspector.drawBoxModel(element);
            },0);
            
            setTimeout(Firebug.Inspector.hideBoxModel, 2500);
            
        }
        else if (randomPanel == "DOM")
        {
            var randomElement = [null, "Firebug", "console", "document"][random(4)];
            var element = Firebug.browser.window[randomElement];
            
            setTimeout(function(){
                Firebug.chrome.getPanel("DOM").select(element);
            },0);
        }
    }
}
</script>